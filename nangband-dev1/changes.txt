Nangband ChangeLog
==================

CVS ENTERS UNPLAYABLE STATE: 2002-03-08
=======================================

2002-03-08
----------
- Added RES_POIS20 to weapons of venom and also made them a little rarer.
  (grahame)
- Added Runescrye's new artifact file to the cvs. (takkaria)
- Made areas of detection circlular. Taken the rough way of doing it from ToME.
  (takkaria)
- Completely ruined the character info screen. (takkaria)
- Removed the 'smart_cheat' option. (takkaria)
- Comverted a few more things to the resist code. (takkaria)
- Removed the light element from the game. (takkaria)

2002-03-03
----------
- Made the title screen bigscreen-compliant. (takkaria)
- Improved object recall. (takkaria)

2002-02-02
----------
- Added the new XML help system. (ajps)
- The title screen is now an AHML file. (ajps)
- Fixed the mac and windows ports comewhat. (takkaria)

2002-02-01
----------
- Code cleanup. (takkaria)

2002-02-29
----------
- Fixed the bug with the new resist system timed resists. Many thanks
  to Fufie on #angband (OPN) for the help! (takkaria)

2002-02-24
----------
- Improved the object recall code to use the new resist code. (takkaria)
- Did more work on the new resist system. (takkaria)

2002-02-22
----------
- Improved the object recall code. (takkaria)
- Added belts of starvation as a new ego type. (grahame)

2002-02-21
----------
- Fixed a few bugs, removed a few compiler warnings. (takkaria)
- Added object recall code. (takkaria)

2002-02-20 (takkaria)
---------------------
- Added Nexus, Chaos and Nether brands (from Antiband).
- Tweaked the artifacts.
- Added the Ring of Elemental Mastery (from Antiband).

Previous
--------
- Added Orbs. These are permanent, non-artifact light sources.
  Very few exist at the moment. (takkaria)
- Added the HUNGER flag which vastly increases the amount of food
  required by the player (grahame)
- Added a belt slot and some belts to wear in those. There are also
  ego-item belts. (grahame)

Changes in Angband alphas:
- Added usage lines for the main-*.c files (Hallvard B Furuseth).
- Fixed the problems with the 'repeat command' command.
- Added a check for the maximum vault size to the vault.txt parser.
- Removed some vaults that were too big for Angband's vault placement
  code.
- Added tiles for some more objects.
- Executables build with configure under Cygwin no longer require the
  Cygwin DLL.
- Removed the "Darwin" vault since it didn't fit to Angband's theme.
- Fixed errors in some artifact activations.
- Fixed a possible crashing bug with main-lsl.c in combination with
  transparency support.
- Added the latest Amiga code (Bablos).
- The "used up"/"ident" results from using an object where exchanged
  resulting in various bugs.
- Moved the spaces in the monster descriptions to the beginning of the
  next line.
- Fixed various typos in the monster descriptions.
- Switched to the latest autoconf and automake versions.
- Replaced the old (Acorn) RISC OS code with a newer version.
- Bounds-checking for detection spells and some wizard mode commands
  was missing.  That could cause crashs when resizing the Terms.
- The object recall window could sometimes show strange values for
  spellbooks.
- Added a missing space in the description of Vecna.
- Added the missing brand_bolts() function for Cubragol's activation.
 Changes by Hallvard B Furuseth:
- Running 'angband --help' will now display basic usage info.
- Various bugfixes to the S-Lang port.
- Fixed some inconsistencies between l-*.pkg and defines.h/types.h.
- Problems with the lib/ folder were not correctly reported when using
  the (n)curses interface.
- Fixed a minor problem with curses on machines with signed-chars.
 Changes by Jonathan Ellis:
- Fixed a minor typo "bane of demon" -> "bane of demons"
- Crowns of might get no extra power.
- Thorin no longer aggravates and doesn't provide 'resist confusion'.
- Amulets of the Magi don't get resist blindness.
- Removed acid brand from the Mattock of Nain and reduced the damage
  to 2d8.
- The message display on the top line can now use a term-width of more
  than 80 characters.
- The player can now reset the recall depth when recalling from a
  level above the deepest reached level.
- Fixed a bug when trying to use prayers.
- Fixed some problems with potions of speed and staffs of starlight,
  remove curse, and speed.
- Cleaned up the source code a bit.
- Added scripting support for player spells and object activations.
- Added a debug display for call-stack and local variables of the scripts.
- The following changes are from Hallvard B Furuseth's patches:
- Fixed a possible integer overflow in the gamma correction code on
  16 bit machines.
- Various bugfixes and improvements in the SLang, XAW, VME, VCS, GCU,
  XPJ and GTK frontends.
- Updated help.hlp with a description of the browser keys.
- Several changes to the autoconf support like better handling of
  "--with-libpath=<path>", better detection of the Athena Widget set,
  compiling GTK versions with "--enable-gtk", and the result of the
  usleep() detection is now actually used.
- Fixed a compatibility problem with 64 bit machines.
- Corrected two wrong option names in the help files.
- 'Interact with visuals' could display negative char numbers.
- Examining a spellbook only browses it when the player can read the book.
- Updated various Makefiles.
- Removed some magic numbers in the source code.
- Added support for object descriptions that are displayed when examining
  objects.
- Moved the effects of using staves, wands, and rods to a Lua script.
- Lesser vaults have a couple of guaranteed "good" items, and greater
  vaults have a couple of guaranteed "great" items. Guarded by
  out-of-depth monsters of course. (JLE)
- Reduced the fail rate of identify. (JLE)
- Made recharging easier for mages. (JLE)
- Made it harder for rangers and rogues to cast Resistance. (JLE)
- Removed "meteor swarm" from the rogue's spell list. (JLE)
- Added eight new amulets: ESP, Resistance, Regeneration, Resist Lightning,
  Devotion, Trickery, Weaponmastery, Infravision. (JLE)
- Amulets of the Magi give an int boost now. (JLE)
- Added activations to the elemental rings. (JLE)
- Ar-Pharazon the Golden is worth more exp and doesn't haste self anymore.
  (JLE)
- Moved bone and bronze golems deeper. (JLE)
- Ghouls and Ghasts are less common now. (JLE)
- Edited the artifact list. (JLE)
- Made *slay giant* as common as the other *slays*. (jianson)
- Toned down the to-dam and to-hit values from rings. (JLE)
- Adjusted the damage caps for various breath attacks. (JLE)
- Changed the damage of some mage spells. (JLE)
- Added the icons for the Kobold player race.
- Added some 16x16 tiles for new monsters.
- Added support for a hitpoint-warning sound effect.
- Added the missing asterix to the *slay animal* ego weapon name. (jianson)
- Fixed flavors such as the slime mold juice, potions of water, and the
  One Ring are now defined in the lib/edit/flavor.txt file.
- Removed the code for loading pre-2.9.0 savefiles.
- Shattered weapons are no longer partially restored when loading a
  savefile.
- Fixed problems with the "repeated commands" after failures such as
  running out of ammo. (Bahman Rabii)
- Changed the spelling of "aluminium" in the item flavors. (JLE)
- Removed some duplicated potion flavors and added new flavors for the
  new amulets.
- Made the text part of the flavor definitions optional.
- Fixed some problems with 64-bit machines.
- Added a debugging menu, a debug window, and basic tracing functionality
  for scripts.
- Fixed the install path for the script files.
- Assigned a default 16x16 icon for the player.
- Removed some duplicated monster flags.
- Fixed a possible crash with searching disarmed chests for traps.
- Removed the unused "disturb_other" option.
- Fixed the problem with the potion of enlightenment.
- The wrong part of the monster recall was colorized.
- Added basic support for a bigger main window (bigscreen). Note that
  the town will be  regenerated when loading an old savefile, so don't
  leave any objects on the floor when you upgrade your savefile!
- Moved the item flavors into an external file and added *.prf files for
  the flavors.
- Made the light radius cumulative.
- Added the Lua scripting language < http://www.lua.org/ > for easier
  customization.  ATM the effects of using various objects (scrolls, food,
  potions) is handled by Lua scripts.
- You can now browse books in the stores.
- Removed the redundant "show hitpoint warnings on/off" option.
- Reorganized the options.
- Unified the creation of monster spoilers and the monster recall.
- Added color to the monster recall.
- The overhead map of the town scales to the available window size.
- Increased the damage of many wands and rods.
- The extended object-info if now generated and displayed via a temp-file.
- Added Jonathan Ellis' JLE patch that adds a new player race ("kobold"),
  many new artifacts, vaults, monsters, objects, and ego-items; rebalances
  the gameplay; and adds a new color scheme for monsters.
- Added some new object flags ("kill demon", "kill undead"), activations,
  monster attacks ("cause halluzination") and monster spells/abilities
  (summon animal, throw boulder) for the JLE patch.
- Don't partially repair blasted equipment when loading the savefile.
- Fixed a bug that caused an infinite loop in the RNG when the u32b type has
  more than 32 bits.
- Corrected the spell-information for the 'cloud-kill' and 'teleport self'
  spells.
- The confirmation for wizard mode was required every time wizard mode was
  switched on.
- The vault_monsters() call could generate up to nine times the requested
  number of monsters.

Changes in Angband 2.9.3:
- The known uniques list is now separated into two columns to make it
  easier to read. One column for the names and one for the "is dead/alive"
  text.
- Allowed examining multiple items without having to return to the
  tombstone screen.
- Added an option to review messages to the tombstone.
- Changed the keys to view high scores from 't' to 'v' and allowed upper
  case for each of the options in the tombstone screen.
- Rogrog the Black Troll resists acid instead of cold.
- Algroths resist poison.
- Moved the player-class info to an external lib/edit/p_class.txt file.
- Unified parts of the *_info.txt parsers.
- Improved the error-messages when parsing *_info.txt files.
- Examining an item that ignores all elements now shows "It cannot be
  harmed by the elements." instead of one line for each element.
- Updated the documentation for the lib/edit/*.txt file formats.
- The randart info is now stored in the savefile.
- Various command-line options like wizard- and fiddle-mode are now
  available from the *.ini file of the Windows version.
- Improved the GTK, X11, and XAW ports.
- The cursor in the X11 and XAW modules is a rectangle, instead of a
  filled box.
- Made the windows of the XAW module resizable.
- Added Steven Fuerst's X11 projected view (start with -mXPJ where
  available).
- Potions of life will now restore stats before healing to provide full
  health even if CON was drained.
- Added the Linux vcsa display driver written by Alexander Malmberg.
- Gave the *_info.txt files more meaningful names.
- The EASY_KNOW flag is no longer hardcoded for various item types.
- Added a workaround for a bug in the Borland compiler for Windows.  The
  game crashed when parsing an lib/edit/*.txt file containing 11 player
  races.
- Fixed a bug that could cause the random artifacts to be different
  depending on the used compiler and optimizations.
- Replaced several magic numbers with the proper constants.
- The lesser vault "Planet X" was labeled as greater vault.
- If a custom player race has both an elemental immunity and resistance
  then only the resistance was shown in the character display grid.
- Fixed a typo in the "bless" spell.
- Ego-items generated in vaults should now be of the proper level.
- Used staircases are now always marked as known when the connected_stairs
  option is turned on.
- Added a new macro action that stops macro execution when the game is at
  a prompt, and is ignored otherwise.
- One type of cross shaped rooms was never been generated.
- The error checking when parsing artifact.txt, ego_item.txt, monster.txt,
  and p_race.txt didn't warn about duplicated entries.
- It's now possible to create junk items in wizard mode.
- The easy_open option no longer counts doors under the player when
  determining which door to close.
- The cheat_know option marked monsters as known even after it was turned
  off.
- The experience gained from killing monsters was sometimes incorrect
  after tweaking the maximum experience in wizard mode.
- The spell-info for the mage's fire-bolt spell was used for the stone to
  mud spell.
- Examining an item in the home displayed the item as if it was
  identified, even if it wasn't.
- The Windows version didn't exit correctly when starting with a savefile
  from the command-line.
- Pref files for player races were not loaded automatically.
- Fixed a compile problem in the Windows version when USE_GRAPHICS is
  turned off.
- The random selection of sound samples in the Windows and DOS version got
  non-random after a while.
- The message when dropping a known artifact is now something like "You no
  longer have the Golden Crown of Gondor" instead of "You have no more
  Golden Crowns of Gondor".
- Finding out that a wand or staff has no charges left didn't update the
  inventory window.
- Attacks that didn't do any damage could sometimes scare wounded monsters.
- Monsters at 1% of max hps got frightened less often than monsters with
  10% hps left.
- The item flag descriptions when tweaking items in wizard mode are now
  correct.
- Removed the special handling for weapons of Morgul and ammo of backbiting.
- Moved the "Lesser vault" and "Greater vault" strings into the source.
- The get_string() and askfor_aux() functions now use the 'len' argument
  as the buffer size instead of the maximum length of the input string.
- Corrected the message when encountering an error while parsing a
  lib/edit/*.txt file.
- The path_temp() function is no longer compiled if mkstemp() is
  available.
- Removed a hack for the curses module of some BSD versions.
- Fixed some problems on BSD machines with the ACS macros for the special
  curses font symbols.
- The *_info.txt parsing routines can now be turned off with the
  ALLOW_TEMPLATES #define.
- The *.prf file loading code checks for invalid message colors.
- Fixed the inversed logic for handling tabs in files.
- Changed the title of the 'Known artifacts' list to the more truthful
  'Known (or lost) artifacts'.
- Changed the message when looking at un-*id*'ed artifacts/ego-items to
  "It might have hidden powers.".
- Changed the monster memory info when you have avenged your ancestor to a
  gender-neutral form.
- The error message "Couldn't allocate bitmap color" in the X11 version
  displayed an uninitialized colour name.
- Corrected the names of some options in the documentation.
- Fixed some errors in the lsl module, but it's still buggy.
- Improved the autoconf support. The Cygwin compiler is now supported,
  detection routines for the X11, XAW, and GCU modules have been improved,
  DESTDIR is now supported, and a workaround for a bug in some versions of
  the GCC compiler is turned on.
- Cleaned up the source code and some of the Makefiles.


